{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _objectSpread from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _classCallCheck from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _createClass from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import _inherits from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";import _createSuper from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-visualiser\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from'react';import Rect from\"./rect\";import Rects from\"./rects\";import{bubbleSort,selectionSort,insertionSort}from\"../algorithms/sortingAlgorithms\";import{quickSort}from\"../algorithms/quickSort\";import Navbar from\"./navbar\";import Menu from\"./menu\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sort=/*#__PURE__*/function(_Component){_inherits(Sort,_Component);var _super=_createSuper(Sort);function Sort(){var _this;_classCallCheck(this,Sort);_this=_super.call(this);_this.state={count:20,rects:[],rects2:[],doubles:false,speed:50,isRunning:false,isRunning1:false,isRunning2:false,algo1:0,algo2:0};_this.handleRandomize=function(){var rect=getInitialRects(_this.state.count);var rect2=rect.slice();_this.setState({rects:rect,rects2:rect2});};_this.handleRefresh=function(){var rects=_this.state.rects;for(var i=0;i<rects.length;i++){var rect=_objectSpread(_objectSpread({},rects[i]),{},{isSorted:false,isSorting:false});rects[i]=rect;}var rects2=rects.slice();_this.setState({rects:rects,rects2:rects2});};_this.handleDouble=function(val){_this.setState({doubles:val});};_this.handleCountChange=function(val){_this.setState({count:val});_this.handleRandomize();};_this.handleAlgoChanged=function(pos,val){if(pos===0){_this.setState({algo1:val});}else{_this.setState({algo2:val});}};_this.handleSpeedChanged=function(val){var speed=110-val;_this.setState({speed:speed});};_this.handleSort=function(){_this.setState({isRunning:true});var steps1;switch(_this.state.algo1){case 0:steps1=bubbleSort(_this.state.rects);break;case 1:steps1=selectionSort(_this.state.rects);break;case 2:steps1=insertionSort(_this.state.rects);break;case 3:steps1=quickSort(_this.state.rects2);console.log(steps1);break;default:steps1=bubbleSort(_this.state.rects);break;}var steps2;if(_this.state.doubles){switch(_this.state.algo2){case 0:steps2=bubbleSort(_this.state.rects2);break;case 1:steps2=selectionSort(_this.state.rects2);break;case 2:steps2=insertionSort(_this.state.rects2);break;case 3:steps2=quickSort(_this.state.rects2);break;default:steps2=bubbleSort(_this.state.rects2);break;}}_this.handleFirst(steps1);if(_this.state.doubles)_this.handleSecond(steps2);};_this.handleFirst=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(steps){var speed,prevRect,i,recti,rectj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(\"fsdfsdfsdfasdf\");\n_this.setState({isRunning1:true});speed=_this.state.speed;// const steps = bubbleSort(this.state.rects);\n//  console.log(steps.length);\nprevRect=_this.state.rects;i=0;case 4:if(!(i<steps.length)){_context.next=14;break;}//   setTimeout(()=>{\nif(i!==0){prevRect[steps[i-1].xx]=_objectSpread(_objectSpread({},prevRect[steps[i-1].xx]),{},{isSorting:false});prevRect[steps[i-1].yy]=_objectSpread(_objectSpread({},prevRect[steps[i-1].yy]),{},{isSorting:false});}if(steps[i].xx===steps[i].yy){prevRect[steps[i].xx]=_objectSpread(_objectSpread({},prevRect[steps[i].xx]),{},{isSorted:true,isSorting:false});}else if(steps[i].changed){recti=_objectSpread(_objectSpread({},prevRect[steps[i].xx]),{},{isSorting:true});rectj=_objectSpread(_objectSpread({},prevRect[steps[i].yy]),{},{isSorting:true});prevRect[steps[i].yy]=recti;prevRect[steps[i].xx]=rectj;}else{prevRect[steps[i].xx]=_objectSpread(_objectSpread({},prevRect[steps[i].xx]),{},{isSorting:true});prevRect[steps[i].yy]=_objectSpread(_objectSpread({},prevRect[steps[i].yy]),{},{isSorting:true});}if(i===steps.length-1){_this.setState({isRunning1:false});if(_this.state.isRunning2===false){_this.setState({isRunning:false});}}/* if( i === (steps.length)-2 ){\r\n                  this.setState({isRunning1:false});\r\n                  if( this.state.isRunning2 === false ){\r\n                      this.setState({isRunning:false});\r\n                  }\r\n                  prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorting:false,isSorted:true};\r\n                  prevRect[steps[i].yy] = {...prevRect[steps[i].yy],isSorting:false,isSorted:true};\r\n              }*/_this.setState({rects:prevRect});_context.next=11;return sleep(_this.state.speed);case 11:i++;_context.next=4;break;case 14:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleSecond=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(steps){var speed,prevRect,i,recti,rectj;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:speed=_this.state.speed;_this.setState({isRunning2:true});prevRect=_this.state.rects2;i=0;case 4:if(!(i<steps.length)){_context2.next=14;break;}//   setTimeout(()=>{\nif(i!==0){prevRect[steps[i-1].xx]=_objectSpread(_objectSpread({},prevRect[steps[i-1].xx]),{},{isSorting:false});prevRect[steps[i-1].yy]=_objectSpread(_objectSpread({},prevRect[steps[i-1].yy]),{},{isSorting:false});}if(steps[i].xx===steps[i].yy){prevRect[steps[i].xx]=_objectSpread(_objectSpread({},prevRect[steps[i].xx]),{},{isSorted:true,isSorting:false});}else if(steps[i].changed){recti=_objectSpread(_objectSpread({},prevRect[steps[i].xx]),{},{isSorting:true});rectj=_objectSpread(_objectSpread({},prevRect[steps[i].yy]),{},{isSorting:true});prevRect[steps[i].yy]=recti;prevRect[steps[i].xx]=rectj;}else{prevRect[steps[i].xx]=_objectSpread(_objectSpread({},prevRect[steps[i].xx]),{},{isSorting:true});prevRect[steps[i].yy]=_objectSpread(_objectSpread({},prevRect[steps[i].yy]),{},{isSorting:true});}if(i===steps.length-1){_this.setState({isRunning2:false});if(_this.state.isRunning1===false){_this.setState({isRunning:false});}}/* if( i === (steps.length)-2 ){\r\n                    prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorting:false,isSorted:true};\r\n                    prevRect[steps[i].yy] = {...prevRect[steps[i].yy],isSorting:false,isSorted:true};\r\n                    this.setState({isRunning2:false});\r\n                    if( this.state.isRunning1 === false ){\r\n                        this.setState({isRunning:false});\r\n                    }\r\n                }*/_this.setState({rects2:prevRect});_context2.next=11;return sleep(_this.state.speed);case 11:i++;_context2.next=4;break;case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Sort,[{key:\"componentDidMount\",value:function componentDidMount(){var rect=getInitialRects(this.state.count);var rect2=rect.slice();this.setState({rects:rect,rects2:rect2});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Menu,{disable:this.state.isRunning,onDoubleChange:this.handleDouble,onViusalize:this.handleSort,onRandomize:this.handleRandomize,onRefresh:this.handleRefresh,onCountChange:this.handleCountChange,onAlgoChanged:this.handleAlgoChanged,onSpeedChange:this.handleSpeedChanged}),/*#__PURE__*/_jsxs(\"div\",{className:\" justify-content-center\",children:[/*#__PURE__*/_jsx(Rects,{rects:this.state.rects}),this.state.doubles&&/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\"}}),this.state.doubles&&/*#__PURE__*/_jsx(Rects,{rects:this.state.rects2})]})]});}}]);return Sort;}(Component);function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}var getInitialRects=function getInitialRects(tot){var rects=[];for(var i=0;i<tot;i++){rects.push(getRect());}return rects;};var getRect=function getRect(){return{width:Math.floor(Math.random()*200)+50,isSorted:false,isSorting:false};};export default Sort;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/New folder/Algorithm-visualiser/src/sortComponents/sort.js"],"names":["React","Component","Rect","Rects","bubbleSort","selectionSort","insertionSort","quickSort","Navbar","Menu","Sort","state","count","rects","rects2","doubles","speed","isRunning","isRunning1","isRunning2","algo1","algo2","handleRandomize","rect","getInitialRects","rect2","slice","setState","handleRefresh","i","length","isSorted","isSorting","handleDouble","val","handleCountChange","handleAlgoChanged","pos","handleSpeedChanged","handleSort","steps1","console","log","steps2","handleFirst","handleSecond","steps","prevRect","xx","yy","changed","recti","rectj","sleep","width","ms","Promise","resolve","setTimeout","tot","push","getRect","Math","floor","random"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Rect from \"./rect\";\r\nimport Rects from \"./rects\";\r\nimport {bubbleSort,selectionSort,insertionSort} from \"../algorithms/sortingAlgorithms\";\r\nimport {quickSort} from \"../algorithms/quickSort\";\r\nimport Navbar from \"./navbar\";\r\nimport Menu from \"./menu\";\r\n\r\nclass Sort extends Component {\r\n  state = {\r\n      count:20,\r\n      rects: [],\r\n      rects2: [],\r\n      doubles:false,\r\n      speed:50,\r\n      isRunning:false,\r\n      isRunning1:false,\r\n      isRunning2:false,\r\n      algo1:0,\r\n      algo2:0\r\n  }\r\n  constructor() {\r\n      super();\r\n  }\r\n  componentDidMount() {\r\n      const rect = getInitialRects(this.state.count);\r\n      const rect2 = rect.slice();\r\n      this.setState({rects:rect,rects2:rect2});\r\n  }\r\n\r\n    render() {\r\n    return (\r\n        <React.Fragment>\r\n            <Navbar/>\r\n            <Menu\r\n                disable={this.state.isRunning}\r\n                onDoubleChange={this.handleDouble}\r\n                onViusalize={this.handleSort}\r\n                onRandomize={this.handleRandomize}\r\n                onRefresh={this.handleRefresh}\r\n                onCountChange={this.handleCountChange}\r\n                onAlgoChanged={this.handleAlgoChanged}\r\n                onSpeedChange={this.handleSpeedChanged}\r\n            />\r\n            <div className=' justify-content-center'>\r\n\r\n                <Rects\r\n                    rects={this.state.rects}\r\n                />\r\n                { this.state.doubles && <hr style={{width:\"90%\"}}/>}\r\n                { this.state.doubles &&\r\n                <Rects\r\n                    rects={this.state.rects2}\r\n                /> }\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n  }\r\n  handleRandomize = () => {\r\n      const rect = getInitialRects(this.state.count);\r\n      const rect2 = rect.slice();\r\n      this.setState({rects:rect,rects2:rect2});\r\n  }\r\n  handleRefresh = () =>{\r\n      const rects = this.state.rects;\r\n      for(let i=0;i<rects.length;i++){\r\n          const rect = {...rects[i],isSorted:false, isSorting:false}\r\n          rects[i] = rect;\r\n      }\r\n      const rects2 = rects.slice();\r\n      this.setState({rects,rects2});\r\n  }\r\n\r\n  handleDouble = (val) =>{\r\n      this.setState({doubles:val});\r\n  }\r\n  handleCountChange = (val) => {\r\n      this.setState({count:val});\r\n      this.handleRandomize();\r\n  }\r\n  handleAlgoChanged = (pos,val) =>{\r\n      if( pos === 0 ){\r\n          this.setState({algo1:val});\r\n      } else{\r\n          this.setState({algo2:val});\r\n      }\r\n  }\r\n  handleSpeedChanged = (val) =>{\r\n    const speed = (110-val);\r\n    this.setState({speed});\r\n  }\r\n  handleSort = () =>{\r\n\r\n      this.setState({isRunning:true});\r\n      let steps1;\r\n      switch (this.state.algo1){\r\n          case 0:\r\n              steps1 = bubbleSort(this.state.rects);\r\n              break;\r\n          case 1:\r\n              steps1 = selectionSort(this.state.rects);\r\n              break;\r\n          case 2:\r\n              steps1 = insertionSort(this.state.rects);\r\n              break;\r\n          case 3:\r\n              steps1 = quickSort(this.state.rects2);\r\n              console.log(steps1)\r\n              break;\r\n          default:\r\n              steps1 = bubbleSort(this.state.rects);\r\n              break;\r\n      }\r\n      let steps2;\r\n      if( this.state.doubles ){\r\n\r\n          switch (this.state.algo2){\r\n              case 0:\r\n                  steps2 = bubbleSort(this.state.rects2);\r\n                  break;\r\n              case 1:\r\n                  steps2 = selectionSort(this.state.rects2);\r\n                  break;\r\n              case 2:\r\n                  steps2 = insertionSort(this.state.rects2);\r\n                  break;\r\n              case 3:\r\n                  steps2 = quickSort(this.state.rects2);\r\n                  break;\r\n              default:\r\n                  steps2 = bubbleSort(this.state.rects2);\r\n                  break;\r\n          }\r\n\r\n      }\r\n      this.handleFirst(steps1);\r\n      if( this.state.doubles ) this.handleSecond(steps2);\r\n  }\r\n  handleFirst = async (steps) =>{\r\n     // console.log(\"fsdfsdfsdfasdf\");\r\n      this.setState({isRunning1:true});\r\n      const {speed} = this.state;\r\n     // const steps = bubbleSort(this.state.rects);\r\n    //  console.log(steps.length);\r\n      const prevRect = this.state.rects;\r\n      for(let i = 0;i<steps.length;i++){\r\n       //   setTimeout(()=>{\r\n              if( i!==0 ){\r\n                  prevRect[steps[i-1].xx] = { ...prevRect[steps[i-1].xx],isSorting:false };\r\n                  prevRect[steps[i-1].yy] = { ...prevRect[steps[i-1].yy],isSorting:false };\r\n              }\r\n              if(steps[i].xx===steps[i].yy){\r\n                  prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorted:true,isSorting:false};\r\n              }else if( steps[i].changed ){\r\n                  const recti = {...prevRect[steps[i].xx],isSorting:true};\r\n                  const rectj = {...prevRect[steps[i].yy],isSorting:true};\r\n                  prevRect[steps[i].yy] = recti;\r\n                  prevRect[steps[i].xx] = rectj;\r\n              } else{\r\n                  prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorting:true};\r\n                  prevRect[steps[i].yy] = {...prevRect[steps[i].yy],isSorting:true};\r\n              }\r\n              if(i === steps.length-1){\r\n                  this.setState({isRunning1:false});\r\n                  if( this.state.isRunning2 === false ){\r\n                      this.setState({isRunning:false});\r\n                  }\r\n              }\r\n             /* if( i === (steps.length)-2 ){\r\n                  this.setState({isRunning1:false});\r\n                  if( this.state.isRunning2 === false ){\r\n                      this.setState({isRunning:false});\r\n                  }\r\n                  prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorting:false,isSorted:true};\r\n                  prevRect[steps[i].yy] = {...prevRect[steps[i].yy],isSorting:false,isSorted:true};\r\n              }*/\r\n              this.setState({rects:prevRect});\r\n              await sleep(this.state.speed);\r\n         // },i*speed);\r\n      }\r\n  }\r\n    handleSecond = async (steps) =>{\r\n        const {speed} = this.state;\r\n        this.setState({isRunning2:true});\r\n        const prevRect = this.state.rects2;\r\n        for(let i = 0;i<steps.length;i++){\r\n         //   setTimeout(()=>{\r\n                if( i!==0 ){\r\n                    prevRect[steps[i-1].xx] = { ...prevRect[steps[i-1].xx],isSorting:false };\r\n                    prevRect[steps[i-1].yy] = { ...prevRect[steps[i-1].yy],isSorting:false };\r\n                }\r\n                if(steps[i].xx===steps[i].yy){\r\n                    prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorted:true,isSorting:false};\r\n                }else if( steps[i].changed ){\r\n                    const recti = {...prevRect[steps[i].xx],isSorting:true};\r\n                    const rectj = {...prevRect[steps[i].yy],isSorting:true};\r\n                    prevRect[steps[i].yy] = recti;\r\n                    prevRect[steps[i].xx] = rectj;\r\n                } else{\r\n                    prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorting:true};\r\n                    prevRect[steps[i].yy] = {...prevRect[steps[i].yy],isSorting:true};\r\n                }\r\n                if( i === steps.length-1 ){\r\n                    this.setState({isRunning2:false});\r\n                    if( this.state.isRunning1 === false ){\r\n                        this.setState({isRunning:false});\r\n                    }\r\n                }\r\n               /* if( i === (steps.length)-2 ){\r\n                    prevRect[steps[i].xx] = {...prevRect[steps[i].xx],isSorting:false,isSorted:true};\r\n                    prevRect[steps[i].yy] = {...prevRect[steps[i].yy],isSorting:false,isSorted:true};\r\n                    this.setState({isRunning2:false});\r\n                    if( this.state.isRunning1 === false ){\r\n                        this.setState({isRunning:false});\r\n                    }\r\n                }*/\r\n                this.setState({rects2:prevRect});\r\n                await sleep(this.state.speed);\r\n           // },i*speed);\r\n        }\r\n    }\r\n\r\n\r\n}\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\nconst getInitialRects = (tot) => {\r\n    const rects = [];\r\n    for(let i = 0;i<tot;i++){\r\n        rects.push(getRect());\r\n    }\r\n    return rects;\r\n}\r\nconst getRect = () => {\r\n  return {\r\n      width: Math.floor(Math.random() * 200)+50,\r\n      isSorted:false,\r\n      isSorting:false\r\n  }\r\n}\r\nexport default Sort;\r\n"]},"metadata":{},"sourceType":"module"}