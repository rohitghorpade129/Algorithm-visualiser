{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _asyncToGenerator from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _classCallCheck from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _createClass from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import _inherits from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";import _createSuper from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Acer\\\\Desktop\\\\New folder\\\\Algorithm-Visualizer\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from'react';import Cells from\"./cells\";import Navbar from\"./navbar\";import DiscreteSlider from\"./slider\";import Menu from\"./menu\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Seive=/*#__PURE__*/function(_Component){_inherits(Seive,_Component);var _super=_createSuper(Seive);function Seive(props){var _this;_classCallCheck(this,Seive);_this=_super.call(this,props);_this.state={number:100,cells:[],isRunning:false,speed:500};_this.changeSpeed=function(speed){//console.log(typeof speed);\n_this.setState({speed:600-speed*10});};_this.handleValueIncease=function(value){_this.setState({number:value});_this.setState({cells:getCells(value),isRunning:false});console.log(value);};_this.handleRefresh=function(){_this.setState({cells:getCells(_this.state.number),isRunning:false});};_this.startSeive=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var speed,prime,i,changedCells,prevCheck,counter,_i,j;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:speed=_this.state.speed;_this.setState({isRunning:true});prime=[];for(i=0;i<=_this.state.number;i++){prime.push(1);}prime[0]=prime[1]=0;changedCells=_this.state.cells;prevCheck=-1;counter=0;_i=2;case 9:if(!(_i<=_this.state.number)){_context.next=33;break;}if(!(prime[_i]===1)){_context.next=30;break;}//   setTimeout(()=>{\nchangedCells=getNewCellPrimeToggled(changedCells,_i-1);_this.setState({cells:changedCells});//},counter*speed);\n_context.next=15;return sleep(_this.state.speed);case 15:counter++;j=_i*_i;case 17:if(!(j<=_this.state.number)){_context.next=30;break;}//setTimeout(()=>{\nif(prevCheck!=-1){changedCells=getNewCellVisitingToggled(changedCells,prevCheck);}prevCheck=j-1;changedCells=getNewCellCheckToggled(changedCells,j-1);changedCells=getNewCellVisitingToggled(changedCells,prevCheck);_this.setState({cells:changedCells});//  },counter*speed);\n_context.next=25;return sleep(_this.state.speed);case 25:counter++;prime[j]=0;case 27:j+=_i;_context.next=17;break;case 30:_i++;_context.next=9;break;case 33://  setTimeout(()=>{\nchangedCells=getNewCellVisitingToggled(changedCells,prevCheck);_this.setState({cells:changedCells,isRunning:false});// },counter*speed);\ncase 35:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Seive,[{key:\"componentDidMount\",value:function componentDidMount(){var cells=getCells(this.state.number);this.setState({cells:cells});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Menu,{onChangeSpeed:this.changeSpeed,onChangeValues:this.handleValueIncease,onVisualize:this.startSeive,onRefresh:this.handleRefresh,isDisabled:this.state.isRunning}),/*#__PURE__*/_jsx(Cells,{num:this.state.number,cells:this.state.cells})]});}}]);return Seive;}(Component);var getNewCellPrimeToggled=function getNewCellPrimeToggled(cells,pos){var newCells=cells.slice();var cell=newCells[pos];var newCell=_objectSpread(_objectSpread({},cell),{},{isPrime:true});newCells[pos]=newCell;return newCells;};var getNewCellVisitingToggled=function getNewCellVisitingToggled(cells,pos){var newCells=cells.slice();var cell=newCells[pos];var newCell=_objectSpread(_objectSpread({},cell),{},{isVisiting:!cell.isVisiting});newCells[pos]=newCell;return newCells;};var getNewCellCheckToggled=function getNewCellCheckToggled(cells,pos){var newCells=cells.slice();var cell=newCells[pos];var newCell=_objectSpread(_objectSpread({},cell),{},{isChecking:true});newCells[pos]=newCell;return newCells;};var getCells=function getCells(rows){var cells=[];for(var cell=1;cell<=rows;cell++){cells.push(createCell(cell));}return cells;};var createCell=function createCell(val){return{val:val,isChecking:false,isVisiting:false,isPrime:false};};function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}export default Seive;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/New folder/Algorithm-Visualizer/src/primeComponents/seive.jsx"],"names":["React","Component","Cells","Navbar","DiscreteSlider","Menu","Seive","props","state","number","cells","isRunning","speed","changeSpeed","setState","handleValueIncease","value","getCells","console","log","handleRefresh","startSeive","prime","i","push","changedCells","prevCheck","counter","getNewCellPrimeToggled","sleep","j","getNewCellVisitingToggled","getNewCellCheckToggled","pos","newCells","slice","cell","newCell","isPrime","isVisiting","isChecking","rows","createCell","val","ms","Promise","resolve","setTimeout"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Cells from \"./cells\";\r\nimport Navbar from \"./navbar\";\r\nimport DiscreteSlider from \"./slider\";\r\nimport Menu from \"./menu\";\r\n\r\nclass Seive extends Component {\r\n    state = {\r\n        number: 100,\r\n        cells:[],\r\n        isRunning:false,\r\n        speed:500\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        const cells = getCells(this.state.number);\r\n        this.setState({cells});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Navbar/>\r\n                <Menu\r\n                    onChangeSpeed={this.changeSpeed}\r\n                    onChangeValues={this.handleValueIncease}\r\n                    onVisualize = {this.startSeive}\r\n                    onRefresh = {this.handleRefresh}\r\n                    isDisabled = {this.state.isRunning}\r\n                />\r\n                <Cells\r\n                    num={this.state.number}\r\n                    cells={this.state.cells}\r\n                />\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    changeSpeed = (speed) => {\r\n        //console.log(typeof speed);\r\n        this.setState({speed:600-speed*10});\r\n    }\r\n    handleValueIncease = (value) => {\r\n        this.setState({number:value});\r\n        this.setState({cells:getCells(value),isRunning:false});\r\n        console.log(value);\r\n    }\r\n    handleRefresh = () => {\r\n        this.setState({cells:getCells(this.state.number),isRunning:false});\r\n    }\r\n    startSeive = async () => {\r\n        const speed = this.state.speed;\r\n        this.setState({isRunning:true});\r\n        const prime = [];\r\n        for(let i = 0;i<=this.state.number;i++){\r\n            prime.push(1);\r\n        }\r\n        prime[0] = prime[1] = 0;\r\n        let changedCells = this.state.cells;\r\n        let prevCheck = -1;\r\n        let counter = 0;\r\n        for( let i = 2; i<=this.state.number;i++){\r\n            if( prime[i] === 1 ){\r\n             //   setTimeout(()=>{\r\n                    changedCells = getNewCellPrimeToggled(changedCells,i-1);\r\n                    this.setState({cells:changedCells});\r\n                //},counter*speed);\r\n                await sleep(this.state.speed);\r\n                counter++;\r\n                for(let j = i*i;j<=this.state.number;j+=i){\r\n                    //setTimeout(()=>{\r\n                        if( prevCheck!=-1 ){\r\n                            changedCells = getNewCellVisitingToggled(changedCells,prevCheck);\r\n                        }\r\n                        prevCheck = j-1;\r\n                        changedCells = getNewCellCheckToggled(changedCells,j-1);\r\n                        changedCells = getNewCellVisitingToggled(changedCells,prevCheck);\r\n                        this.setState({cells:changedCells});\r\n                  //  },counter*speed);\r\n                    await sleep(this.state.speed);\r\n                    counter++;\r\n                    prime[j] = 0;\r\n                }\r\n            }\r\n        }\r\n      //  setTimeout(()=>{\r\n            changedCells = getNewCellVisitingToggled(changedCells,prevCheck);\r\n            this.setState({cells:changedCells,isRunning:false});\r\n       // },counter*speed);\r\n    }\r\n}\r\n\r\nconst getNewCellPrimeToggled = (cells,pos) =>{\r\n    const newCells = cells.slice();\r\n    const cell = newCells[pos];\r\n    const newCell = {\r\n        ...cell,\r\n        isPrime:true\r\n    }\r\n    newCells[pos] = newCell;\r\n    return newCells;\r\n}\r\n\r\nconst getNewCellVisitingToggled = (cells,pos)=>{\r\n    const newCells = cells.slice();\r\n    const cell = newCells[pos];\r\n    const newCell = {\r\n        ...cell,\r\n        isVisiting:!cell.isVisiting\r\n    }\r\n    newCells[pos] = newCell;\r\n    return newCells;\r\n}\r\n\r\nconst getNewCellCheckToggled = (cells,pos) =>{\r\n    const newCells = cells.slice();\r\n    const cell = newCells[pos];\r\n    const newCell = {\r\n        ...cell,\r\n        isChecking:true\r\n    }\r\n    newCells[pos] = newCell;\r\n    return newCells;\r\n}\r\n\r\nconst getCells = (rows)=>{\r\n    const cells = [];\r\n    for(let cell = 1;cell<=rows;cell++){\r\n        cells.push(createCell(cell))\r\n    }\r\n    return cells;\r\n}\r\nconst createCell = (val)=>{\r\n    return {\r\n        val,\r\n        isChecking:false,\r\n        isVisiting:false,\r\n        isPrime:false\r\n    };\r\n}\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\nexport default Seive;"]},"metadata":{},"sourceType":"module"}